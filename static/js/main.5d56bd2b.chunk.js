(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){e.exports={toggleBlock:"ToggleProp_toggleBlock__TyMf5"}},154:function(e,t,a){e.exports=a(279)},159:function(e,t,a){},16:function(e,t,a){e.exports={loginPage:"Login_loginPage__13-VR",LogOrChange:"Login_LogOrChange__23P5k",form:"Login_form__xuFL8",input:"Login_input__1jEsU",wrongData:"Login_wrongData__3bnxt"}},160:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(62),c=a.n(s),o=(a(159),a(17)),i=a(18),u=a(20),l=a(19),d=(a(160),a(52)),m=a.n(d),k=a(27),p=function(e){return Object(n.useEffect)((function(){e.setTasks(4)})),r.a.createElement("div",{className:m.a.headerBlock},r.a.createElement("div",{className:m.a.logo},r.a.createElement(k.b,{to:"/",className:m.a.logo},"Todo List")),e.isAuth?r.a.createElement("p",null,e.fullName):r.a.createElement("button",{className:m.a.changeTheme},"Change"))},f=a(66),h=a.n(f),_=function(e){return r.a.createElement("div",{className:h.a.navbarBlock},r.a.createElement(k.b,{className:h.a.navbarBlock__link,to:"/importantTasks"},"Important"),r.a.createElement(k.b,{className:h.a.navbarBlock__link,to:"/archivedTasks"},"Archive"))},v=a(122),b=a.n(v),E=a(41),T=a.n(E),g=a(123),O=a.n(g),N=function(e){return r.a.createElement("div",{className:O.a.toggleBlock},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:e.task.isImportant,onChange:function(){return t=e.task.id,a=!e.task.isImportant,void e.addToImportant(e.userId,t,a);var t,a}}),r.a.createElement("span",null,"IMPORTANT")),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:e.task.isArchived,onChange:function(){return t=e.task.id,a=!e.task.isArchived,void e.addToArchive(e.userId,t,a);var t,a}}),r.a.createElement("span",null,"ARCHIVED")))},j=void 0,I=function(e){var t="";return r.a.createElement("div",{className:T.a.tasksListBlock},e.tasks.filter((function(e){return!e.isArchived})).map((function(a){return r.a.createElement("div",{className:T.a.task,key:a.id},r.a.createElement("div",{className:T.a.valueBlock},r.a.createElement("input",{type:"text",className:T.a.task__descr,value:a.description,onChange:function(e){t=e.target.value},onBlur:function(){var n;n=a.id,e.editTask(e.userId,n,t),j.setState({editMode:!1})},disabled:!0}),r.a.createElement(N,Object.assign({},e,{task:a}))),r.a.createElement("div",{className:T.a.btnBlock},r.a.createElement("button",{onClick:function(){return j.setState({editMode:!0})}},"EDIT"),r.a.createElement("button",{onClick:function(){return e.removeTask(a.id,e.userId)}},"REMOVE")))})))},B=a(9),A=a(53),D=a(12),y=a(125).create({baseURL:"http://localhost:8000/",headers:{"Content-type":"application/json; charset=UTF-8"}}),w=function(e){return y.get("tasks?userId=".concat(e))},S=function(e){return y.post("tasks?userId=".concat(e.userId),{description:e.description,isImportant:e.isImportant,isArchived:e.isArchived,userId:e.userId})},C=function(e,t){return y.patch("tasks/".concat(e),{isImportant:t})},x=function(e,t){return y.patch("tasks/".concat(e),{isArchived:t})},L=function(e,t){return y.patch("tasks/".concat(e),{description:t})},M=function(e){return y.delete("tasks/".concat(e))},R=function(e){return y.get("users",{params:{fullName:e}})},V=function(e){return y.post("users",{fullName:e.newName,password:e.newPassword})},P=function(e){return y.get("users?id=".concat(e))},F={tasks:[]},U=function(e){return function(t){w(e).then((function(e){t({type:"SET_TASKS",tasks:e.data})}))}},W=function(e,t,a){return function(n){C(t,a).then((function(t){n(U(e))}))}},H=function(e,t,a){return function(n){x(t,a).then((function(t){n(U(e))}))}},K=function(e,t,a){return function(n){L(t,a).then((function(t){n(U(e))}))}},Y=function(e,t){return function(a){M(e).then((function(e){a(U(t))}))}},q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(I,this.props)}}]),a}(r.a.Component),J=Object(B.b)((function(e){return{tasks:e.tasksData.tasks,userId:e.usersData.id}}),{addToImportant:W,addToArchive:H,removeTask:Y,editTask:K})(q),X=a(33),Z=a.n(X),z=a(119),G=a(120),$=Object(G.a)({form:"addTask"})((function(e){return r.a.createElement("div",{className:Z.a.addTaskBlock},r.a.createElement("form",{onSubmit:e.handleSubmit((function(t){var a={description:t.taskDescr,isImportant:t.isImportant,isArchived:!1,userId:e.userId};e.addNewTask(a),t.taskDescr="",t.isImportant=!1})),className:Z.a.addtTaskForm},r.a.createElement(z.a,{className:Z.a.inputTask,component:"input",name:"taskDescr",type:"text",placeholder:"What Do You Wanna Do?"}),r.a.createElement(z.a,{className:Z.a.isImportant,component:"input",name:"isImportant",type:"checkbox"}),e.error&&r.a.createElement("div",{className:Z.a.wrongData},e.error),r.a.createElement("button",{className:Z.a.addBtn},"Add")))})),Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement($,this.props)}}]),a}(r.a.Component),ee=Object(B.b)((function(e){return{tasks:e.tasksData.tasks,userId:e.usersData.id}}),{addNewTask:function(e){return function(t){S(e).then((function(e){t({type:"ADD_NEW_TASK",task:e.data})}))}}})(Q),te=function(e){return r.a.createElement("div",{className:b.a.MainBlock},r.a.createElement(ee,null),r.a.createElement(J,null))},ae=a(8),ne=a(42),re=a.n(ne),se=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:re.a.archivedTasksBlock},this.props.tasks.filter((function(e){return e.isArchived})).map((function(t){return r.a.createElement("div",{className:re.a.task,key:t.id},r.a.createElement("div",{className:re.a.valueBlock},r.a.createElement("input",{type:"text",className:re.a.task__descr,value:t.description,disabled:!0}),r.a.createElement(N,Object.assign({},e.props,{task:t}))),r.a.createElement("div",{className:re.a.btnBlock},r.a.createElement("button",{onClick:function(){return e.setState({editMode:!0})}},"EDIT"),r.a.createElement("button",{onClick:function(){return e.props.removeTask(t.id,e.props.userId)}},"REMOVE")))})))}}]),a}(r.a.Component),ce=Object(B.b)((function(e){return{tasks:e.tasksData.tasks,userId:e.usersData.id}}),{addToImportant:W,addToArchive:H,removeTask:Y})(se),oe=a(34),ie=a.n(oe),ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).currentInputValue="",n.state={editMode:!1},n}return Object(i.a)(a,[{key:"editInputValue",value:function(e){this.props.editTask(this.props.userId,e,this.currentInputValue)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ie.a.importantTasksBlock},this.props.tasks.filter((function(e){return e.isImportant&&!e.isArchived})).map((function(t){return r.a.createElement("div",{className:ie.a.task,key:t.id},r.a.createElement("div",{className:ie.a.valueBlock},e.state.editMode?r.a.createElement("input",{type:"text",className:ie.a.task__descr,value:t.description,onChange:function(t){e.currentInputValue=t.target.value},onBlur:function(){e.editInputValue(t.id),e.setState({editMode:!1})}}):r.a.createElement("input",{type:"text",className:ie.a.task__descr,value:t.description,disabled:!0}),r.a.createElement(N,Object.assign({},e.props,{task:t}))),r.a.createElement("div",{className:ie.a.btnBlock},r.a.createElement("button",{onClick:function(){return e.setState({editMode:!0})}},"EDIT"),r.a.createElement("button",{onClick:function(){return e.props.removeTask(t.id,e.props.userId)}},"REMOVE")))})))}}]),a}(r.a.Component),le=Object(B.b)((function(e){return{tasks:e.tasksData.tasks,userId:e.usersData.id}}),{addToImportant:W,addToArchive:H,removeTask:Y,editTask:K})(ue),de=a(128),me=a(16),ke=a.n(me),pe=function(e){var t=Object(n.useState)(!0),a=Object(de.a)(t,2),s=a[0],c=a[1];return r.a.createElement("div",{className:ke.a.loginPage},s?r.a.createElement(fe,{login:e.login}):r.a.createElement(he,{register:e.register}),r.a.createElement("p",{className:ke.a.LogOrChange},"or",s?r.a.createElement("span",{onClick:function(){return c(!1)}}," Register"):r.a.createElement("span",{onClick:function(){return c(!0)}}," Login")))},fe=Object(G.a)({form:"login"})((function(e){return r.a.createElement("div",{className:ke.a.loginBlock},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:e.handleSubmit((function(t){e.login(t)})),className:ke.a.form},r.a.createElement(z.a,{className:ke.a.input,component:"input",name:"fullName",type:"text",placeholder:"Your Full Name"}),r.a.createElement(z.a,{className:ke.a.input,component:"input",name:"password",type:"password",placeholder:"Your Password"}),r.a.createElement("button",null,"Login"),e.error&&r.a.createElement("div",{className:ke.a.wrongData},e.error)))})),he=Object(G.a)({form:"register"})((function(e){return r.a.createElement("div",{className:ke.a.registerBlock},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{onSubmit:e.handleSubmit((function(t){e.register(t)})),className:ke.a.form},r.a.createElement(z.a,{className:ke.a.input,component:"input",name:"newName",type:"text",placeholder:"Full Name"}),r.a.createElement(z.a,{className:ke.a.input,component:"input",name:"newPassword",type:"password",placeholder:"Password"}),r.a.createElement("button",null,"Register"),e.error&&r.a.createElement("div",{className:ke.a.wrongData},e.error)))})),_e=a(37),ve={isAuth:!1},be=function(e,t){return{type:"SET_AUTH_USER_DATA",userData:e,isAuth:t}},Ee=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(pe,this.props)}}]),a}(r.a.Component),Te=Object(B.b)((function(e){return{userData:e.usersData.userData}}),{register:function(e){return function(t){R(e.newName).then((function(a){400===a.status?t(Object(_e.a)("register",{_error:"\u0422\u0430\u043a\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"})):V(e).then((function(e){201===e.status?t(be(e.data,!0)):alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}))}},login:function(e){return function(t){R(e.fullName).then((function(a){a.data.length&&e.password==a.data[0].password?P(a.data[0].id).then((function(e){t(be(e.data[0],!0))})):t(Object(_e.a)("login",{_error:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}))}))}},logout:function(){return function(e){e(be(void 0,!1))}}})(Ee),ge=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(p,{isAuth:this.props.isAuth,fullName:this.props.fullName,userId:this.props.userId,setTasks:this.props.setTasks}),this.props.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("div",{className:"main"},r.a.createElement(ae.a,{exact:!0,path:"/",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(ae.a,{path:"/importantTasks",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(ae.a,{path:"/archivedTasks",render:function(){return r.a.createElement(ce,null)}}))):r.a.createElement(Te,null))}}]),a}(r.a.Component),Oe=Object(B.b)((function(e){return{isAuth:e.usersData.isAuth,userId:e.usersData.id,fullName:e.usersData.fullName}}),{setTasks:U})(ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(7),je=a(127),Ie=a(121),Be=Object(Ne.c)({form:Ie.a,tasksData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TASKS":return Object(D.a)(Object(D.a)({},e),{},{tasks:Object(A.a)(t.tasks)});case"ADD_NEW_TASK":var a=Object(D.a)({},t.task);return Object(D.a)(Object(D.a)({},e),{},{tasks:[].concat(Object(A.a)(e.tasks),[a])});case"ADD_TO_IMPORTANT":return Object(D.a)(Object(D.a)({},e),{},{importantTasks:[].concat(Object(A.a)(e.importantTasks),[t.importantTask])});case"ADD_TO_ARCHIVE":return Object(D.a)(Object(D.a)({},e),{},{archivedTasks:[].concat(Object(A.a)(e.archivedTasks),[t.archivedTask])});default:return e}},usersData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(D.a)(Object(D.a)(Object(D.a)({},e),t.userData),{},{isAuth:t.isAuth});default:return e}}}),Ae=Object(Ne.d)(Be,Object(Ne.a)(je.a));window.store=Ae,c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.a,null,r.a.createElement(B.a,{store:Ae},r.a.createElement(Oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t,a){e.exports={addTaskBlock:"AddTask_addTaskBlock__xgd3Z",addtTaskForm:"AddTask_addtTaskForm__2i8hZ",inputTask:"AddTask_inputTask__cv9Xp",addBtn:"AddTask_addBtn__2fIlw"}},34:function(e,t,a){e.exports={importantTasksBlock:"ImportantTasks_importantTasksBlock__3e1rh",task:"ImportantTasks_task__1bso5",task__descr:"ImportantTasks_task__descr__1mTTb",valueBlock:"ImportantTasks_valueBlock__1baEd",btnBlock:"ImportantTasks_btnBlock__39IG9"}},41:function(e,t,a){e.exports={tasksListBlock:"TasksList_tasksListBlock__j8ERD",task:"TasksList_task__3nxez",task__descr:"TasksList_task__descr__3rrdu",valueBlock:"TasksList_valueBlock__3ES4T",btnBlock:"TasksList_btnBlock__LjIXP"}},42:function(e,t,a){e.exports={archivedTasksBlock:"ArchivedTasks_archivedTasksBlock__21BqT",task:"ArchivedTasks_task__16Vmq",task__descr:"ArchivedTasks_task__descr__3Ax4R",valueBlock:"ArchivedTasks_valueBlock__2jMSm",btnBlock:"ArchivedTasks_btnBlock__3CV_D"}},52:function(e,t,a){e.exports={headerBlock:"Header_headerBlock__12bW1"}},66:function(e,t,a){e.exports={navbarBlock:"Navbar_navbarBlock__3rlp0",navbarBlock__link:"Navbar_navbarBlock__link__3ugs4"}}},[[154,1,2]]]);
//# sourceMappingURL=main.5d56bd2b.chunk.js.map